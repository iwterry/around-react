{"version":3,"sources":["contexts/CurrentUserContext.js","images/header-vector.svg","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/Popup.js","components/ImagePopup.js","utils/utils.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmationPromptPopup.js","utils/api.js","images/profile-avatar.jpg","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Header","props","className","src","logo","alt","Card","card","onCardSelect","onCardLike","onCardDelete","currentUser","useContext","numLikes","likes","length","isCurrentUserTheOwnerOfCard","owner","_id","isCardLikedByCurrentUser","some","someUser","deleteBtnClassName","likeBtnClassName","type","aria-label","onClick","link","name","Main","onEditAvatar","onAddPlace","onEditProfile","cards","avatar","about","map","Footer","Popup","children","isOpen","onClose","additionalCssClassesStr","OPENED_OVERLAY_CSS_CLASS","target","classList","contains","ImagePopup","logErrors","err","console","log","getInputErrors","errors","inputElement","errs","validity","valid","validationMessage","getInputFieldErrorClassName","fieldErrors","fieldName","isErrorShown","inputErrorBlockElement","PopupWithForm","title","onSubmit","isSubmitBtnDisabled","submitBtnText","submitBtnClassName","noValidate","disabled","EditProfilePopup","onUpdateUser","isUpdatingProfile","useState","setName","description","setDescription","setErrors","setIsSubmitBtnDisabled","fieldNames","nameFieldErrorClassName","descriptionFieldErrorClassName","checkIfSubmitBtnShouldBeDisabled","hasInvalidInput","handleInputChange","value","handleBlur","useEffect","evt","preventDefault","placeholder","minLength","maxLength","onChange","onBlur","required","EditAvatarPopup","onUpdateAvatar","isUpdatingAvatar","setAvatar","error","setError","hasUserChangedInput","setHasUserChangedInput","PROFILE_AVATAR_FIELD_NAME","avatarFieldErrorClassName","hasOwnProperty","validateInput","avatarInputElement","AddPlacePopup","isCreatingPlace","setTitle","setLink","titleFieldErrorClassName","linkFieldErrorClassName","ConfirmationPromptPopup","onConfirmation","isDeletingAfterConfirming","api","headers","this","_baseUrl","_headers","_fetchData","relativePathFromBase","method","additionalHeaderProps","body","JSON","stringify","cardId","avatarLink","isLiking","init","url","fetch","then","res","ok","json","Promise","reject","status","authorization","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","defaultAvatar","setCurrentUser","setCards","idOfCardToBeDeleted","setIdOfCardToBeDeleted","setIsUpdatingAvatar","setIsUpdatingProfile","setIsCreatingPlace","setIsDeletingAfterConfirming","closeAllPopups","handleClosingAllPopupsUsingEscKey","key","document","addEventListener","removeEventListener","getUserProfile","catch","getInitialCards","Provider","id","cardName","cardLink","clickedCardId","isClickedCardLikedAlreadyByUser","updateCardLikes","updatedCard","updatedCards","updateUserProfile","finally","createCard","newCard","deleteCard","data","filter","aCard","updateUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5b025cf4.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport default CurrentUserContext;","export default __webpack_public_path__ + \"static/media/header-vector.70737bb4.svg\";","import React from 'react';\r\n\r\nimport logo from '../images/header-vector.svg';\r\n\r\nfunction Header(props) {\r\n  return (\r\n    <header className=\"header\">\r\n      <img src={logo} alt=\"Around The U.S.\" className=\"header__vector\" />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n\r\n","import React from 'react';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n  const { card, onCardSelect, onCardLike, onCardDelete } = props;\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const numLikes = card.likes.length;\r\n  const isCurrentUserTheOwnerOfCard = card.owner._id === currentUser._id;\r\n  const isCardLikedByCurrentUser = card.likes.some((someUser) => someUser._id === currentUser._id);\r\n\r\n  const deleteBtnClassName = 'location__delete-btn' + \r\n    (isCurrentUserTheOwnerOfCard ? ' location__delete-btn_active' : '');\r\n  const likeBtnClassName = 'location__like-btn' +\r\n    (isCardLikedByCurrentUser ? ' location__like-btn_active' : '');\r\n\r\n\r\n  function handleCardImageClick() {\r\n    onCardSelect(card._id, card.name, card.link);\r\n  }\r\n\r\n  function handleLikeBtnClick() {\r\n    onCardLike(card._id, isCardLikedByCurrentUser);\r\n  }\r\n\r\n  function handleDeleteBtnClick() {\r\n    onCardDelete(card._id)\r\n  }\r\n  \r\n\r\n  return (\r\n    <li className=\"location\">\r\n      <button \r\n        type=\"button\"\r\n        aria-label=\"Delete\"\r\n        className={deleteBtnClassName}\r\n        onClick={handleDeleteBtnClick}\r\n      ></button>\r\n      <img\r\n        src={card.link} \r\n        alt={card.name} \r\n        className=\"location__image\" \r\n        onClick={handleCardImageClick}\r\n      />\r\n      <div className=\"location__content-wrapper\">\r\n        <h2 className=\"location__name\">{card.name}</h2>\r\n        <div className=\"location__likes-wrapper\">\r\n          <button \r\n            type=\"button\" \r\n            aria-label=\"Like\" \r\n            className={likeBtnClassName}\r\n            onClick={handleLikeBtnClick}\r\n          ></button>\r\n          <p className=\"location__num-likes\">{numLikes}</p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\r\n\r\nimport Card from './Card.js';\r\n\r\nfunction Main(props) {\r\n  const { \r\n    onEditAvatar, \r\n    onAddPlace, \r\n    onEditProfile, \r\n    onCardSelect, \r\n    onCardLike, \r\n    onCardDelete, \r\n    cards \r\n  } = props;\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"main-content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar-wrapper\">\r\n          <img src={currentUser.avatar} alt=\"profile avatar\" className=\"profile__avatar\" />\r\n          <div className=\"profile__avatar-overlay\" onClick={onEditAvatar}></div>\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n          <button type=\"button\" aria-label=\"Edit\" className=\"profile__edit-btn\" onClick={onEditProfile}></button>\r\n          <p className=\"profile__self-description\">{currentUser.about}</p>\r\n        </div>\r\n        <button type=\"button\" aria-label=\"Add location\" className=\"profile__add-btn\" onClick={onAddPlace}></button>\r\n      </section>\r\n\r\n      <section className=\"locations\">\r\n        <ul className=\"locations__collection\">\r\n        {cards.map(({ name, link, likes, _id, owner }) => { \r\n          return (\r\n            <Card\r\n              key={_id}\r\n              card={{ name, link, likes, _id, owner }}\r\n              onCardSelect={onCardSelect}\r\n              onCardLike={onCardLike}\r\n              onCardDelete={onCardDelete} \r\n            />\r\n          );\r\n        })}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer(props) {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">\r\n        &copy; 2020 Around The U.S.\r\n      </p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nfunction Popup(props) {\r\n  const { name, children, isOpen, onClose, additionalCssClassesStr='' } = props;\r\n\r\n  const OPENED_OVERLAY_CSS_CLASS = 'overlay_opened';\r\n\r\n  function handleClick({ target }) { \r\n    // closing popup by clicking on just the overlay and not its contents\r\n    if(target.classList.contains(OPENED_OVERLAY_CSS_CLASS)) onClose();\r\n  }\r\n\r\n  return (\r\n    <div \r\n      className={`overlay ${additionalCssClassesStr} ${isOpen ? OPENED_OVERLAY_CSS_CLASS : ''}`} \r\n      onClick={handleClick}\r\n    >\r\n      <div className=\"overlay__wrapper\">\r\n        <button\r\n          type=\"button\"\r\n          aria-label=\"Close\"\r\n          className={`overlay__close-btn overlay__close-btn_type_${name}`}\r\n          onClick={onClose}\r\n        >\r\n        </button>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Popup;","import React from 'react';\r\nimport Popup from './Popup';\r\n\r\nfunction ImagePopup(props) {\r\n  const { card, onClose } = props;\r\n\r\n  return (\r\n    <Popup \r\n      name=\"image-popup\" \r\n      isOpen={card._id != null} \r\n      onClose={onClose} \r\n      additionalCssClassesStr=\"overlay_dark\"\r\n    >\r\n      <figure className=\"image-popup\">\r\n        <img src={card.link} alt={card.name} className=\"image-popup__image\" />\r\n        <figcaption className=\"image-popup__title\">{card.name}</figcaption>\r\n      </figure>\r\n    </Popup>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;","export function logErrors(err) {\r\n  console.log(`Error: ${err}`);\r\n}\r\n\r\nexport function getInputErrors(errors, inputElement) {\r\n  const errs = { ...errors };\r\n\r\n  if (!inputElement.validity.valid) {\r\n    errs[inputElement.name] = inputElement.validationMessage;\r\n  } else {\r\n    delete errs[inputElement.name];\r\n  }\r\n  return errs;\r\n}\r\n\r\nexport function getInputFieldErrorClassName(fieldErrors, fieldName, isErrorShown) {\r\n  const inputErrorBlockElement = 'project-form__input-error';\r\n  \r\n  const fieldErrorClassName = inputErrorBlockElement +\r\n    ` ${inputErrorBlockElement}_field_${fieldName}` +\r\n    (fieldErrors[fieldName] != null && isErrorShown ? ` ${inputErrorBlockElement}_active` : '');\r\n\r\n  return fieldErrorClassName;\r\n}\r\n","import React from 'react';\r\nimport Popup from './Popup';\r\n\r\nfunction PopupWithForm(props) {\r\n  const { \r\n    name, title, children, isOpen, onClose, \r\n    onSubmit, isSubmitBtnDisabled, submitBtnText\r\n  } = props;\r\n\r\n  const submitBtnClassName = `project-form__submit-btn project-form__submit-btn_type_${name}` + \r\n    (isSubmitBtnDisabled ? ' project-form__submit-btn_disabled' : '');\r\n\r\n  return (\r\n    <Popup name={name} isOpen={isOpen} onClose={onClose}>\r\n      <form \r\n        name={name} \r\n        className={`project-form project-form_type_${name}`} \r\n        onSubmit={onSubmit} \r\n        noValidate\r\n      > \r\n        <h3 className={`project-form__title project-form__title_type_${name}`}>\r\n          {title}\r\n        </h3>\r\n        {children}\r\n        <button type=\"submit\" className={submitBtnClassName} disabled={isSubmitBtnDisabled}>\r\n          {submitBtnText || 'Submit'}\r\n        </button>\r\n      </form>\r\n    </Popup>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\n\r\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\r\nimport { getInputErrors, getInputFieldErrorClassName } from '../utils/utils.js';\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\n\r\nfunction EditProfilePopup(props) {\r\n  const { isOpen, onClose, onUpdateUser, isUpdatingProfile } = props;\r\n\r\n  const [ name, setName ] = React.useState('');\r\n  const [ description, setDescription ] = React.useState('');\r\n  const [ errors, setErrors ] = React.useState({});\r\n  const [ isSubmitBtnDisabled, setIsSubmitBtnDisabled ] = React.useState(false);\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const fieldNames = {\r\n    profileName: 'profile-name',\r\n    profileDescription: 'profile-description'\r\n  }\r\n  const nameFieldErrorClassName = getInputFieldErrorClassName(\r\n    errors, \r\n    fieldNames.profileName, \r\n    isOpen\r\n  );\r\n  const descriptionFieldErrorClassName = getInputFieldErrorClassName(\r\n    errors,\r\n    fieldNames.profileDescription, \r\n    isOpen\r\n  );\r\n\r\n  const PROFILE_NAME_MAX_LENGTH = 40;\r\n  const PROFILE_NAME_MIN_LENGTH = 2;\r\n  const PROFILE_DESCRIPTION_MAX_LENGTH = 200;\r\n  const PROFILE_DESCRIPTION_MIN_LENGTH = 2;\r\n\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  React.useEffect(() => {\r\n    checkIfSubmitBtnShouldBeDisabled();\r\n  }, [name, description, isUpdatingProfile, isOpen]);\r\n\r\n\r\n  function checkIfSubmitBtnShouldBeDisabled() {\r\n    const hasInvalidInput = (\r\n      name.length < PROFILE_NAME_MIN_LENGTH ||\r\n      name.length > PROFILE_NAME_MAX_LENGTH ||\r\n      description.length < PROFILE_NAME_MIN_LENGTH ||\r\n      description.length > PROFILE_DESCRIPTION_MAX_LENGTH\r\n    );\r\n\r\n    setIsSubmitBtnDisabled(isUpdatingProfile || hasInvalidInput || !isOpen);\r\n  }\r\n\r\n  function handleInputChange({ target }) {\r\n    switch(target.name) {\r\n      case fieldNames.profileName:\r\n        setName(target.value);\r\n        break;\r\n      case fieldNames.profileDescription:\r\n        setDescription(target.value);\r\n        break;\r\n    }\r\n\r\n    setErrors(getInputErrors(errors, target));\r\n  }\r\n\r\n  function handleBlur({ target }) {\r\n    setErrors(getInputErrors(errors, target));\r\n    checkIfSubmitBtnShouldBeDisabled();\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onUpdateUser(name, description);\r\n  }\r\n  \r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"profile-edit\" \r\n      title=\"Edit profile\" \r\n      isOpen={isOpen} \r\n      onClose={onClose} \r\n      onSubmit={handleSubmit} \r\n      isSubmitBtnDisabled={isSubmitBtnDisabled}\r\n      submitBtnText={isUpdatingProfile ? 'Saving' : 'Save'}\r\n    >\r\n      <div className=\"project-form__field-wrapper project-form__field-wrapper_form_profile-edit\">\r\n        <input \r\n          type=\"text\"\r\n          aria-label=\"Name\"\r\n          name={fieldNames.profileName}\r\n          className={\"project-form__input project-form__input_type_profile-edit-field\"}\r\n          placeholder=\"Name\"\r\n          minLength={PROFILE_NAME_MIN_LENGTH}\r\n          maxLength={PROFILE_NAME_MAX_LENGTH}\r\n          value={name}\r\n          onChange={handleInputChange}\r\n          onBlur={handleBlur}\r\n          required\r\n        />\r\n        <p className={nameFieldErrorClassName}>{errors[fieldNames.profileName]}</p>\r\n      </div>\r\n      <div className=\"project-form__field-wrapper project-form__field-wrapper_form_profile-edit\">\r\n        <input\r\n          type=\"text\"\r\n          aria-label=\"About me\"\r\n          name={fieldNames.profileDescription}\r\n          className=\"project-form__input project-form__input_type_profile-edit-field\"\r\n          placeholder=\"About me\"\r\n          minLength={PROFILE_DESCRIPTION_MIN_LENGTH}\r\n          maxLength={PROFILE_DESCRIPTION_MAX_LENGTH}\r\n          value={description}\r\n          onChange={handleInputChange}\r\n          onBlur={handleBlur}\r\n          required\r\n        />\r\n        <p className={descriptionFieldErrorClassName}>{errors[fieldNames.profileDescription]}</p>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nimport { getInputErrors, getInputFieldErrorClassName } from '../utils/utils';\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const { isOpen, onClose, onUpdateAvatar, isUpdatingAvatar } = props;\r\n  \r\n  const [ avatar, setAvatar ] = React.useState('');\r\n  const [ error, setError ] = React.useState({});\r\n  const [ hasUserChangedInput, setHasUserChangedInput ] = React.useState(false);\r\n\r\n  const PROFILE_AVATAR_FIELD_NAME = 'profile-avatar';\r\n  const avatarFieldErrorClassName = getInputFieldErrorClassName(\r\n    error, \r\n    PROFILE_AVATAR_FIELD_NAME, \r\n    isOpen\r\n  );\r\n  const hasInvalidInput = error.hasOwnProperty(PROFILE_AVATAR_FIELD_NAME);\r\n  const isSubmitBtnDisabled = (\r\n    !hasUserChangedInput || \r\n    isUpdatingAvatar || \r\n    hasInvalidInput || \r\n    !isOpen\r\n  );\r\nconsole.log('rendered');\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n  \r\n    onUpdateAvatar(avatar);\r\n    setAvatar('');\r\n  }\r\n\r\n  function validateInput(inputElement) {\r\n    setError(getInputErrors(error, inputElement));\r\n    setAvatar(inputElement.value);\r\n  }\r\n\r\n  function handleInputChange({ target: avatarInputElement }) {\r\n    setAvatar(avatarInputElement.value);\r\n    validateInput(avatarInputElement);\r\n\r\n    setHasUserChangedInput(true);\r\n  }\r\n\r\n  function handleBlur({ target: inputElement }) {\r\n    validateInput(inputElement);\r\n  }\r\n      \r\n  return (\r\n    <PopupWithForm \r\n      name=\"profile-img-change\" \r\n      title=\"Change profile picture\" \r\n      isOpen={isOpen} \r\n      onClose={onClose} \r\n      onSubmit={handleSubmit}\r\n      isSubmitBtnDisabled={isSubmitBtnDisabled}\r\n      submitBtnText={isUpdatingAvatar ? 'Saving' : 'Save'}\r\n    >\r\n      <div className=\"project-form__field-wrapper project-form__field-wrapper_form_profile-img-change\">\r\n        <input\r\n          type=\"url\"\r\n          aria-label=\"Avatar link\"\r\n          name={PROFILE_AVATAR_FIELD_NAME}\r\n          className=\"project-form__input project-form__input_type_profile-img-change-field\"\r\n          placeholder=\"Avatar link\"\r\n          value={avatar}\r\n          onChange={handleInputChange}\r\n          onBlur={handleBlur}\r\n          required\r\n        />\r\n        <p className={avatarFieldErrorClassName}>{error[PROFILE_AVATAR_FIELD_NAME]}</p>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport { getInputErrors, getInputFieldErrorClassName } from '../utils/utils';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n  const { isOpen, onClose, onAddPlace, isCreatingPlace } = props;\r\n\r\n  const [ title, setTitle ] = React.useState('');\r\n  const [ link, setLink ] = React.useState(''); \r\n  const [ errors, setErrors ] = React.useState({});\r\n  const [ hasUserChangedInput, setHasUserChangedInput ] = React.useState(false);\r\n\r\n\r\n  const fieldNames = {\r\n    placeTitle: 'location-title',\r\n    placeLink: 'location-link'\r\n  }\r\n  const titleFieldErrorClassName = getInputFieldErrorClassName(\r\n    errors, \r\n    fieldNames.placeTitle, \r\n    isOpen\r\n  );\r\n  const linkFieldErrorClassName = getInputFieldErrorClassName(\r\n    errors, \r\n    fieldNames.placeLink, \r\n    isOpen\r\n  );\r\n  const hasInvalidInput = (  \r\n    errors.hasOwnProperty(fieldNames.placeTitle) ||\r\n    errors.hasOwnProperty(fieldNames.placeLink)\r\n  );\r\n  const isSubmitBtnDisabled = (\r\n    !hasUserChangedInput ||\r\n    isCreatingPlace ||\r\n    hasInvalidInput || \r\n    !isOpen\r\n  );\r\n\r\n  \r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    onAddPlace(title, link);\r\n\r\n    setTitle('');\r\n    setLink('');\r\n  }\r\n\r\n  function validateInput(inputElement) {\r\n    setErrors(getInputErrors(errors, inputElement));\r\n  }\r\n\r\n  function handleInputChange({ target: inputElement }) {\r\n    switch(inputElement.name) {\r\n      case fieldNames.placeTitle:\r\n        setTitle(inputElement.value);\r\n        break;\r\n      case fieldNames.placeLink:\r\n        setLink(inputElement.value);\r\n        break;\r\n    }\r\n\r\n    setHasUserChangedInput(true);\r\n  }\r\n\r\n  function handleBlur({ target: inputElement }) {\r\n    validateInput(inputElement);\r\n  }\r\n\r\n\r\n  return (\r\n    <PopupWithForm \r\n      name=\"location-create\" \r\n      title=\"New place\" \r\n      isOpen={isOpen} \r\n      onClose={onClose} \r\n      onSubmit={handleSubmit} \r\n      isSubmitBtnDisabled={isSubmitBtnDisabled}\r\n      submitBtnText={isCreatingPlace ? 'Saving' : 'Save'}\r\n    >\r\n      <div className=\"project-form__field-wrapper project-form__field-wrapper_form_location-create\">\r\n        <input \r\n          type=\"text\"\r\n          aria-label=\"Title\"\r\n          name={fieldNames.placeTitle}\r\n          className=\"project-form__input project-form__input_type_location-create-field\"\r\n          placeholder=\"Title\"\r\n          minLength=\"2\"\r\n          maxLength=\"30\"\r\n          value={title}\r\n          onChange={handleInputChange}\r\n          onBlur={handleBlur}\r\n          required\r\n        />\r\n        <p className={titleFieldErrorClassName}>{errors[fieldNames.placeTitle]}</p>\r\n      </div>\r\n      <div className=\"project-form__field-wrapper project-form__field-wrapper_form_location-create\">\r\n        <input\r\n          type=\"url\"\r\n          aria-label=\"Image link\"\r\n          name={fieldNames.placeLink}\r\n          className=\"project-form__input project-form__input_type_location-create-field\"\r\n          placeholder=\"Image link\"\r\n          value={link}\r\n          onChange={handleInputChange}\r\n          onBlur={handleBlur}\r\n          required\r\n        />\r\n        <p className={linkFieldErrorClassName}>{errors[fieldNames.placeLink]}</p>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction ConfirmationPromptPopup(props) {\r\n  const { isOpen, onClose, onConfirmation, isDeletingAfterConfirming } = props;\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    onConfirmation();\r\n  }\r\n  return (\r\n    <PopupWithForm \r\n      name=\"confirmation-prompt\" \r\n      title=\"Are you sure?\" \r\n      isOpen={isOpen} \r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      isSubmitBtnDisabled={isDeletingAfterConfirming || !isOpen}\r\n      submitBtnText={\"Yes\"}\r\n    />\r\n  );\r\n}\r\n\r\nexport default ConfirmationPromptPopup;","class Api {\r\n  constructor({ headers }) {\r\n    this._baseUrl = 'https://around.nomoreparties.co/v1/group-8';\r\n    this._headers = headers;\r\n  }\r\n\r\n  getInitialCards() {\r\n    return this._fetchData({ relativePathFromBase: 'cards' });\r\n  }\r\n\r\n  getUserProfile() {\r\n    return this._fetchData({ relativePathFromBase: 'users/me' });\r\n  }\r\n\r\n  createCard(name, link) {\r\n    return this._fetchData({ \r\n      relativePathFromBase: 'cards',\r\n      method: 'POST',\r\n      additionalHeaderProps: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({ name, link })\r\n    });\r\n  }\r\n\r\n  updateUserProfile(name, about) {\r\n    return this._fetchData({ \r\n      relativePathFromBase: 'users/me',\r\n      method: 'PATCH',\r\n      additionalHeaderProps: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({ name, about })\r\n    });\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return this._fetchData({ \r\n      relativePathFromBase:  `cards/${cardId}`,\r\n      method: 'DELETE'\r\n    });\r\n  }\r\n\r\n  updateUserAvatar(avatarLink) {\r\n    return this._fetchData({ \r\n      relativePathFromBase: 'users/me/avatar',\r\n      method: 'PATCH',\r\n      additionalHeaderProps: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({ avatar: avatarLink })\r\n    });\r\n  }\r\n\r\n  updateCardLikes(cardId, isLiking ) {\r\n    return this._fetchData({ \r\n      relativePathFromBase: `cards/likes/${cardId}`,\r\n      method: (isLiking ? 'PUT' : 'DELETE')\r\n    });\r\n  }\r\n  \r\n  _fetchData({ relativePathFromBase, method='GET', additionalHeaderProps={}, body=null}) {\r\n    const init = {\r\n      method,\r\n      headers: {\r\n        ...this._headers,\r\n        ...additionalHeaderProps\r\n      }\r\n    };\r\n\r\n    if(body !== null) {\r\n      init.body = body;\r\n    }\r\n\r\n    const url = `${this._baseUrl}/${relativePathFromBase}`;\r\n\r\n    return fetch(url, init).then((res) => {\r\n      if(res.ok) return res.json();\r\n      else return Promise.reject(res.status);\r\n    });\r\n  }\r\n}\r\n\r\nconst authToken = 'f9c51bc0-ecec-42b1-bdb4-bcfabdba3e4f';\r\n\r\nconst api = new Api({ \r\n  headers: { \r\n    authorization: authToken \r\n  }\r\n});\r\n\r\nexport default api;","export default __webpack_public_path__ + \"static/media/profile-avatar.5a8c9959.jpg\";","import React from 'react';\r\n\r\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\r\n\r\nimport Header from './Header.js';\r\nimport Main from './Main.js';\r\nimport Footer from './Footer.js';\r\nimport ImagePopup from './ImagePopup.js';\r\nimport EditProfilePopup from './EditProfilePopup.js';\r\nimport EditAvatarPopup from './EditAvatarPopup.js';\r\nimport AddPlacePopup from './AddPlacePopup.js';\r\nimport ConfirmationPromptPopup from './ConfirmationPromptPopup.js';\r\n\r\nimport api from '../utils/api.js';\r\nimport { logErrors } from '../utils/utils.js';\r\n\r\nimport defaultAvatar from '../images/profile-avatar.jpg';\r\n\r\nfunction App() {\r\n  const [ isEditProfilePopupOpen, setIsEditProfilePopupOpen ]  = React.useState(false);\r\n  const [ isAddPlacePopupOpen, setIsAddPlacePopupOpen ] = React.useState(false);\r\n  const [ isEditAvatarPopupOpen, setIsEditAvatarPopupOpen ] = React.useState(false);\r\n  const [ selectedCard, setSelectedCard ] = React.useState({ _id: null, link: '#',  name: '' });\r\n  const [ currentUser, setCurrentUser ] = React.useState({\r\n    name: 'Jacques Cousteau',\r\n    about: 'Explorer',\r\n    avatar: defaultAvatar,\r\n    _id: null\r\n  });\r\n  const [ cards, setCards ] = React.useState([]);\r\n  const [ idOfCardToBeDeleted, setIdOfCardToBeDeleted ] = React.useState(null);\r\n  const [ isUpdatingAvatar, setIsUpdatingAvatar ] = React.useState(false);\r\n  const [ isUpdatingProfile, setIsUpdatingProfile ] = React.useState(false);\r\n  const [ isCreatingPlace, setIsCreatingPlace ] = React.useState(false);\r\n  const [ isDeletingAfterConfirming, setIsDeletingAfterConfirming ] = React.useState(false);\r\n\r\n  const isOpen = (\r\n    isEditAvatarPopupOpen || \r\n    isEditProfilePopupOpen || \r\n    isAddPlacePopupOpen || \r\n    idOfCardToBeDeleted || /* for confirmation popup */\r\n    selectedCard._id      /* for image popup */\r\n  );\r\n\r\n\r\n  function closeAllPopups() {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIdOfCardToBeDeleted(null);\r\n    setSelectedCard({ ...selectedCard, _id: null });\r\n  }\r\n\r\n  function handleClosingAllPopupsUsingEscKey(evt) {\r\n    if(evt.key === 'Escape') {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n\r\n\r\n  React.useEffect(() => { // using approach similar to earlier sprints\r\n    if(isOpen) {\r\n      document.addEventListener('keydown', handleClosingAllPopupsUsingEscKey);\r\n    } else {\r\n      document.removeEventListener('keydown', handleClosingAllPopupsUsingEscKey);\r\n    }\r\n  }, [isOpen]);\r\n\r\n  React.useEffect(() => {\r\n    api.getUserProfile()\r\n      .then(setCurrentUser)\r\n      .catch(logErrors);\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    api.getInitialCards()\r\n      .then(setCards)\r\n      .catch(logErrors);\r\n  }, []);\r\n\r\n\r\n  function handleCardLike(clickedCardId, isClickedCardLikedAlreadyByUser) {\r\n    api.updateCardLikes(clickedCardId, !isClickedCardLikedAlreadyByUser)\r\n      .then((updatedCard) => {\r\n        const updatedCards = cards.map((card) => card._id === clickedCardId ? updatedCard : card);\r\n        setCards(updatedCards);\r\n      })\r\n      .catch(logErrors);\r\n  }\r\n\r\n  function handleCardDelete(id) {\r\n    setIdOfCardToBeDeleted(id);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleCardSelect(cardId, cardName, cardLink) {\r\n    setSelectedCard({\r\n      _id: cardId,\r\n      name: cardName, \r\n      link: cardLink\r\n    });\r\n  }\r\n\r\n  function handleUpdateUser(name, about) {\r\n    setIsUpdatingProfile(true);\r\n    api.updateUserProfile(name, about)\r\n      .then(setCurrentUser)\r\n      .catch(logErrors)\r\n      .finally(() => {\r\n        closeAllPopups();\r\n        setIsUpdatingProfile(false);\r\n      });\r\n  }\r\n\r\n  function handleUpdateAvatar(avatar) {\r\n    setIsUpdatingAvatar(true);\r\n    api.updateUserAvatar(avatar)\r\n      .then(setCurrentUser)\r\n      .catch(logErrors)\r\n      .finally(() => {\r\n        closeAllPopups();\r\n        setIsUpdatingAvatar(false);\r\n      });\r\n  }\r\n\r\n  function handleAddPlace(name, link) {\r\n    setIsCreatingPlace(true);\r\n    api.createCard(name, link)\r\n      .then((newCard) => setCards([newCard, ...cards]))\r\n      .catch(logErrors)\r\n      .finally(() => {\r\n        closeAllPopups();\r\n        setIsCreatingPlace(false);\r\n      });\r\n  }\r\n\r\n  function handleConfirmation() {\r\n    setIsDeletingAfterConfirming(true);\r\n    api.deleteCard(idOfCardToBeDeleted)\r\n      .then((data) => {\r\n        console.log('returned:', data);\r\n        const updatedCards = cards.filter((aCard) => aCard._id !== idOfCardToBeDeleted);\r\n        setCards(updatedCards);\r\n      })\r\n      .catch(logErrors)\r\n      .finally(() => {\r\n        closeAllPopups();\r\n        setIsDeletingAfterConfirming(false);\r\n      });\r\n  }\r\n\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <Header />\r\n        <Main\r\n          onEditAvatar={handleEditAvatarClick}\r\n          onEditProfile={handleEditProfileClick}\r\n          onAddPlace={handleAddPlaceClick}\r\n          onCardDelete={handleCardDelete} \r\n          onCardSelect={handleCardSelect}\r\n          onCardLike={handleCardLike}\r\n          cards={cards}\r\n        />\r\n        <Footer />\r\n        \r\n        <EditProfilePopup \r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups} \r\n          onUpdateUser={handleUpdateUser} \r\n          isUpdatingProfile={isUpdatingProfile} \r\n        />\r\n\r\n        <AddPlacePopup \r\n          isOpen={isAddPlacePopupOpen} \r\n          onClose={closeAllPopups} \r\n          onAddPlace={handleAddPlace} \r\n          isCreatingPlace={isCreatingPlace} \r\n        />\r\n\r\n        <ConfirmationPromptPopup \r\n          isOpen={idOfCardToBeDeleted !== null} \r\n          onClose={closeAllPopups} \r\n          onConfirmation={handleConfirmation} \r\n          isDeletingAfterConfirming={isDeletingAfterConfirming} \r\n        />\r\n          \r\n        <EditAvatarPopup \r\n          isOpen={isEditAvatarPopupOpen} \r\n          onClose={closeAllPopups} \r\n          onUpdateAvatar={handleUpdateAvatar} \r\n          isUpdatingAvatar={isUpdatingAvatar} \r\n        />\r\n\r\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n/*\r\n  Note:\r\n  - All popups can be closed using close button, ESC key, and clicking on overlay (and not \r\n    its contents)\r\n  - forms operate as follows\r\n    - submit button is disabled when having invalid inputs, submitting, and closing  form popups\r\n    - input errors are shown when inputs are invalid and are hidden when closing the form popups\r\n      and shown when opening\r\n    - when closing form popup, input fields are not reset, but they cleared when \r\n      submitting (except for profile form to update user name and description)\r\n    - text change on submit button to show the user that information is being saved (except\r\n      when deleting cards)\r\n    - when deleting card, the user is asked to confirm first.\r\n*/","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App.js';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}